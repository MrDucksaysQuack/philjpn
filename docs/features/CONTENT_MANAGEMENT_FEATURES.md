# 📝 콘텐츠 관리 그룹 기능 상세 가이드

## 개요
콘텐츠 관리 그룹은 시험과 문제 콘텐츠를 생성하고 관리하는 모든 기능을 제공합니다. 시험 생성 워크플로우에 필요한 모든 도구가 한 곳에 모여 있습니다.

> ⚠️ **혼란스러운 부분이 있다면?**  
> `CONTENT_MANAGEMENT_CLARIFICATION.md` 파일을 먼저 읽어보세요. 각 기능의 정확한 목적과 차이점을 명확히 설명합니다.

---

## 1. 📄 시험 관리 (Exam Management)

### 주요 기능
- ✅ **시험 목록 조회**
  - 전체 시험 목록을 카드 형태로 표시
  - 페이지네이션 지원 (20개씩)
  - 시험 제목 검색 기능

- ✅ **시험 생성**
  - 새 시험 생성 페이지 (`/admin/exams/create`)
  - 시험 기본 정보 설정 (제목, 설명, 유형 등)
  - 섹션(Section) 추가 및 관리
  - 각 섹션에 문제 할당
  - 시험 설정 (시간 제한, 점수 배분 등)

- ✅ **시험 수정**
  - 기존 시험 정보 수정
  - 섹션 추가/삭제/수정
  - 문제 재할당

- ✅ **시험 삭제**
  - 시험 삭제 기능
  - 확인 다이얼로그 제공

- ✅ **시험 상세 관리**
  - 시험별 섹션 관리 (`/admin/exams/[id]/sections/[sectionId]/questions`)
  - 섹션별 문제 추가/제거
  - 문제 순서 조정

### 사용 시나리오
1. **새 시험 생성**: "새 시험 생성" 버튼 클릭 → 시험 정보 입력 → 섹션 추가 → 문제 할당
2. **기존 시험 수정**: 시험 카드 클릭 → 수정 페이지에서 정보 변경
3. **시험 검색**: 검색창에 키워드 입력 → 관련 시험 필터링

---

## 2. ❓ 문제 관리 (Question Management)

### 핵심 목적
**개별 문제를 직접 관리하는 도구** - 모든 문제를 한 곳에서 조회, 검색, 수정, 삭제

### 주요 기능
- ✅ **전체 문제 조회**
  - 모든 문제를 목록으로 표시
  - 문제 내용 미리보기
  - 문제 상세 정보 표시

- ✅ **문제 검색**
  - 문제 내용 기반 검색
  - 실시간 검색 결과 표시

- ✅ **필터링 기능**
  - 난이도 필터 (easy, medium, hard)
  - 시험별 필터 (특정 시험에 속한 문제만 표시)
  - 다중 필터 조합 가능

- ✅ **문제 삭제**
  - 개별 문제 삭제
  - 확인 다이얼로그 제공
  - 삭제 전 문제 내용 미리보기

- ✅ **문제 상세 정보**
  - 문제 내용
  - 난이도
  - 태그
  - 속한 시험/섹션 정보
  - 선택지 및 정답

### 사용 시나리오
1. **문제 검색**: 검색창에 키워드 입력 → 관련 문제 필터링
2. **난이도별 필터링**: 난이도 드롭다운에서 선택 → 해당 난이도 문제만 표시
3. **시험별 문제 확인**: 시험 필터에서 선택 → 해당 시험의 문제만 표시
4. **문제 삭제**: 문제 옆 삭제 버튼 클릭 → 확인 후 삭제

### 💡 문제 관리 vs 문제 은행 vs 문제 풀
- **문제 관리**: 개별 문제를 직접 관리 (도서관 카탈로그)
- **문제 은행**: 카테고리별로 문제를 체계적으로 저장 (주제별 서가)
- **문제 풀**: 태그/난이도별로 문제를 그룹화하여 시험 생성 시 사용 (임시 모음집)

---

## 3. 🏦 문제 은행 (Question Bank)

### 핵심 목적
**카테고리별로 문제를 체계적으로 분류하고 저장하는 저장소** - 평소 문제 관리용

### 주요 기능
- ✅ **문제 은행 생성**
  - 새 문제 은행 생성
  - 이름, 설명, 카테고리 설정
  - 카테고리 자동완성 지원

- ✅ **문제 은행 수정**
  - 기존 문제 은행 정보 수정
  - 이름, 설명, 카테고리 변경

- ✅ **문제 은행 삭제**
  - 문제 은행 삭제
  - 확인 다이얼로그 제공

- ✅ **문제 은행 목록 조회**
  - 전체 문제 은행 카드 형태로 표시
  - 문제 은행별 문제 개수 표시
  - 생성 날짜 표시

- ✅ **문제 은행 검색**
  - 문제 은행 이름 기반 검색
  - 카테고리별 필터링

- ✅ **문제 관리 (문제 은행 내)**
  - 문제 은행에 문제 추가
  - 문제 은행에서 문제 제거
  - 문제 검색으로 추가할 문제 찾기
  - 전체 문제 일괄 제거

- ✅ **문제 은행 상세 정보**
  - 포함된 문제 목록
  - 문제별 난이도 및 태그 표시
  - 문제 미리보기

### 사용 시나리오
1. **문제 은행 생성**: "새 문제 은행" 버튼 클릭 → 이름/설명/카테고리 입력 → 저장
2. **문제 추가**: 문제 은행 카드에서 "문제 관리" 클릭 → 문제 검색 → 문제 추가
3. **카테고리별 관리**: 카테고리 필터 선택 → 해당 카테고리 문제 은행만 표시
4. **문제 은행 활용**: 시험 생성 시 문제 은행에서 문제 선택하여 빠르게 할당

### 💡 문제 은행의 특징
- **카테고리 기반**: 카테고리별로 문제를 분류 (예: "JFT-Basic", "JLPT N5")
- **직접 관계**: 문제가 문제 은행에 직접 속함 (Question.questionBankId)
- **저장소 개념**: 평소 문제를 체계적으로 관리하는 용도

---

## 4. 🏊 문제 풀 (Question Pool)

### 핵심 목적
**시험 생성 시 문제를 선택하기 위한 임시 그룹** - 템플릿에서 사용

### 주요 기능
- ✅ **문제 풀 생성**
  - 새 문제 풀 생성
  - 이름, 설명 설정
  - 태그 설정 (다중 태그 지원)
  - 난이도 필터 설정
  - 문제 선택 (QuestionSelector 컴포넌트 사용)

- ✅ **문제 풀 수정**
  - 기존 문제 풀 정보 수정
  - 태그 추가/제거
  - 문제 추가/제거

- ✅ **문제 풀 삭제**
  - 문제 풀 삭제
  - 확인 다이얼로그 제공

- ✅ **문제 풀 목록 조회**
  - 전체 문제 풀 카드 형태로 표시
  - 태그 표시
  - 포함된 문제 개수 표시
  - 난이도 분포 표시

- ✅ **태그 기반 그룹화**
  - 태그별로 문제 그룹화
  - 다중 태그 지원
  - 태그 자동완성

- ✅ **난이도별 그룹화**
  - 난이도 필터로 문제 선택
  - 난이도 분포 시각화

- ✅ **문제 선택 도구**
  - QuestionSelector 컴포넌트로 문제 선택
  - 검색 및 필터링 지원
  - 일괄 선택 가능

### 사용 시나리오
1. **태그별 문제 풀 생성**: "새 문제 풀 생성" → 태그 입력 (예: "문법", "어휘") → 해당 태그 문제 선택
2. **난이도별 문제 풀**: 난이도 필터 설정 (예: "medium") → 해당 난이도 문제만 선택
3. **복합 조건 문제 풀**: 태그 + 난이도 조합으로 정교한 문제 풀 생성
4. **템플릿에서 활용**: 템플릿 생성 시 문제 풀을 연결하여 시험 생성 시 자동으로 문제 선택

### 💡 문제 풀의 특징
- **태그/난이도 기반**: 태그나 난이도로 문제를 그룹화
- **간접 참조**: 문제 ID만 배열로 저장 (questionIds)
- **템플릿용**: 템플릿에서 참조되어 시험 생성 시 문제 선택에 사용
- **유연성**: 태그/난이도 조합으로 유연하게 문제 선택 가능

---

## 5. 📋 시험 템플릿 (Exam Template)

### 핵심 목적
**시험의 구조와 문제 선택 규칙을 정의하는 설계도** - 동일한 구조의 시험을 빠르게 생성

### 주요 기능
- ✅ **템플릿 생성**
  - 새 시험 템플릿 생성
  - 템플릿 이름, 설명 설정
  - 템플릿 마법사(TemplateWizard) 사용
  - 시험 구조 정의 (섹션 수, 문제 수 등)
  - 문제 풀 연결

- ✅ **템플릿 수정**
  - 기존 템플릿 정보 수정
  - 템플릿 구조 변경
  - 문제 풀 재연결

- ✅ **템플릿 삭제**
  - 템플릿 삭제
  - 확인 다이얼로그 제공

- ✅ **템플릿 목록 조회**
  - 전체 템플릿 카드 형태로 표시
  - 템플릿별 설명 표시
  - 연결된 문제 풀 정보 표시

- ✅ **템플릿 기반 시험 생성**
  - 템플릿 선택하여 빠른 시험 생성
  - 템플릿 구조를 기반으로 시험 자동 생성
  - 문제 풀에서 자동으로 문제 할당

- ✅ **템플릿 마법사**
  - 단계별 템플릿 생성 가이드
  - 시험 구조 설정
  - 문제 풀 선택
  - 설정 미리보기

### 사용 시나리오
1. **템플릿 생성**: "새 템플릿 생성" → 템플릿 마법사 실행 → 시험 구조 정의 → 문제 풀 선택 → 저장
2. **템플릿 활용**: 시험 생성 시 템플릿 선택 → 템플릿 기반으로 시험 자동 생성 → 필요시 수정
3. **반복 작업 효율화**: 동일한 구조의 시험을 여러 번 생성할 때 템플릿 사용

### 💡 시험 템플릿 vs 시험
- **시험 템플릿**: 설계도 (구조만 정의, 실제 시험 아님)
- **시험**: 실제 시험 (사용자가 응시, 결과 저장)
- **관계**: 템플릿에서 시험을 생성 (Exam.templateId로 연결)

---

## 🔄 작업 흐름 (Workflow)

### 시험 생성 전체 워크플로우

```
1. 카테고리 설정 (시스템 설정 그룹)
   ↓
2. 문제 생성/관리 (문제 관리)
   ↓
3. 문제 은행 생성 및 문제 추가 (문제 은행)
   ↓
4. 문제 풀 생성 (태그/난이도별 그룹화) (문제 풀)
   ↓
5. 템플릿 생성 (선택사항) (시험 템플릿)
   ↓
6. 시험 생성 (시험 관리)
   - 직접 생성: 섹션 추가 → 문제 할당
   - 템플릿 사용: 템플릿 선택 → 자동 생성 → 수정
```

### 일반적인 사용 패턴

#### 패턴 1: 빠른 시험 생성 (템플릿 활용)
1. 문제 풀 생성 (태그/난이도별)
2. 템플릿 생성 (문제 풀 연결)
3. 템플릿으로 시험 생성
4. 필요시 시험 수정

#### 패턴 2: 직접 시험 생성
1. 문제 관리에서 문제 확인/생성
2. 시험 생성 페이지로 이동
3. 섹션 추가
4. 각 섹션에 문제 직접 할당

#### 패턴 3: 문제 은행 활용
1. 문제 은행 생성
2. 관련 문제들을 문제 은행에 추가
3. 시험 생성 시 문제 은행에서 선택하여 할당

---

## 💡 활용 팁

### 효율적인 콘텐츠 관리
1. **문제 은행 활용**: 카테고리별로 문제 은행을 만들어 체계적으로 관리
2. **태그 활용**: 문제 풀에서 태그를 적극 활용하여 유연한 문제 그룹화
3. **템플릿 활용**: 자주 사용하는 시험 구조는 템플릿으로 저장
4. **검색 활용**: 문제 관리에서 검색 기능을 활용하여 빠르게 문제 찾기

### 권장 구조
- **문제 은행**: 카테고리별 (예: "JFT-Basic 문법", "JLPT N5 어휘")
- **문제 풀**: 태그/난이도별 (예: "문법-중급", "어휘-초급")
- **템플릿**: 시험 유형별 (예: "JFT-Basic 모의고사", "JLPT 실전 문제")

---

## 📊 기능 비교표

| 기능 | 문제 관리 | 문제 은행 | 문제 풀 | 시험 템플릿 | 시험 |
|------|----------|----------|--------|------------|------|
| **목적** | 개별 문제 관리 | 카테고리별 저장 | 태그/난이도 그룹 | 시험 구조 설계 | 실제 응시 시험 |
| **분류 기준** | - | 카테고리 | 태그/난이도 | - | - |
| **데이터 관계** | - | 직접 관계 | 간접 참조 | 문제 풀 참조 | Section/Question |
| **문제 조회** | ✅ 전체 | ✅ 은행별 | ✅ 풀별 | ❌ | ✅ 시험별 |
| **문제 검색** | ✅ | ✅ | ✅ | ❌ | ❌ |
| **문제 그룹화** | ❌ | ✅ 카테고리별 | ✅ 태그/난이도별 | ❌ | ❌ |
| **시험 생성** | ❌ | ❌ | ❌ | ✅ | ❌ |
| **사용자 응시** | ❌ | ❌ | ❌ | ❌ | ✅ |
| **재사용성** | 낮음 | 중간 | 높음 | 매우 높음 | 낮음 |
| **유연성** | 높음 | 중간 | 높음 | 중간 | 낮음 |

---

## 🎯 각 기능의 적합한 사용 시점

### 문제 관리
- ✅ 개별 문제를 확인하거나 수정할 때
- ✅ 특정 문제를 검색할 때
- ✅ 문제를 삭제할 때
- **비유**: 도서관의 전체 도서 목록 카탈로그

### 문제 은행
- ✅ 카테고리별로 문제를 체계적으로 관리할 때
- ✅ 관련 문제들을 한 곳에 모아 관리할 때
- ✅ 시험 생성 시 특정 카테고리 문제를 빠르게 선택할 때
- **비유**: 도서관의 주제별 서가 (문학 서가, 과학 서가 등)

### 문제 풀
- ✅ 태그나 난이도로 문제를 그룹화할 때
- ✅ 템플릿에서 문제를 선택하기 위한 풀을 만들 때
- ✅ 유연한 조건으로 문제를 선택할 때
- **비유**: 시험 출제를 위한 문제 모음집 (임시 그룹)

### 시험 템플릿
- ✅ 동일한 구조의 시험을 여러 번 생성할 때
- ✅ 빠른 시험 생성이 필요할 때
- ✅ 표준화된 시험 구조를 유지할 때
- **비유**: 건축 설계도 (집의 구조를 정의하지만 실제 집은 아님)

### 시험
- ✅ 사용자에게 제공할 실제 시험을 만들 때
- ✅ 템플릿으로부터 자동 생성하거나 직접 생성
- **비유**: 설계도로 만든 실제 집 (사람이 살 수 있는 집)

---

## ✅ 요약

콘텐츠 관리 그룹은 **시험과 문제를 생성하고 관리하는 모든 기능**을 제공합니다:

1. **시험 관리**: 시험 생성, 수정, 삭제, 섹션 및 문제 할당
2. **문제 관리**: 전체 문제 조회, 검색, 필터링, 삭제
3. **문제 은행**: 카테고리별 문제 그룹화 및 관리
4. **문제 풀**: 태그/난이도별 문제 그룹화 및 관리
5. **시험 템플릿**: 빠른 시험 생성을 위한 템플릿 관리

이 모든 기능들이 **시험 생성 워크플로우**에 맞춰 논리적으로 그룹화되어 있어, 관리자가 효율적으로 콘텐츠를 관리할 수 있습니다.

