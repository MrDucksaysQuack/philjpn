# 📝 콘텐츠 관리 기능 명확화 가이드

## 🎯 핵심 질문: 각 기능의 정확한 목적은?

사용자가 혼란스러워하는 부분을 명확히 정리합니다.

---

## 1️⃣ 문제 관리 vs 문제 은행 vs 문제 풀

### ❓ 문제 관리 (Question Management)
**목적**: 개별 문제를 직접 관리하는 도구

**특징**:
- 모든 문제를 한 곳에서 조회
- 문제를 직접 검색, 필터링, 삭제
- 문제의 상세 정보 확인

**데이터 구조**:
```typescript
Question {
  id: string
  content: string
  sectionId: string        // 어떤 시험의 어떤 섹션에 속함
  questionBankId?: string  // 선택적으로 문제 은행에 속할 수 있음
  tags: string[]
  difficulty: 'easy' | 'medium' | 'hard'
}
```

**사용 시점**:
- ✅ 특정 문제를 찾아서 확인/수정할 때
- ✅ 문제를 삭제할 때
- ✅ 문제의 상세 정보를 확인할 때

**비유**: 도서관의 전체 도서 목록 카탈로그

---

### 🏦 문제 은행 (Question Bank)
**목적**: 카테고리별로 문제를 체계적으로 분류하고 저장하는 저장소

**특징**:
- **카테고리 기반** 분류 (예: "JFT-Basic 문법", "JLPT N5 어휘")
- 문제가 **직접 속함** (Question.questionBankId로 연결)
- 문제 은행에 문제를 추가/제거
- 시험 생성 시 문제 은행에서 문제를 선택하여 사용

**데이터 구조**:
```typescript
QuestionBank {
  id: string
  name: string
  category: string        // 카테고리 (예: "JFT-Basic", "JLPT N5")
  questions: Question[]  // 이 은행에 속한 문제들
}
```

**사용 시점**:
- ✅ 카테고리별로 문제를 체계적으로 관리할 때
- ✅ 관련 문제들을 한 곳에 모아두고 싶을 때
- ✅ 시험 생성 시 특정 카테고리 문제를 빠르게 선택할 때

**비유**: 도서관의 주제별 서가 (문학 서가, 과학 서가 등)

**예시**:
```
문제 은행: "JFT-Basic 문법"
  - 문제 1: "~てください" 사용법
  - 문제 2: "~なければなりません" 사용법
  - 문제 3: "~てもいいです" 사용법
```

---

### 🏊 문제 풀 (Question Pool)
**목적**: 시험 생성 시 문제를 선택하기 위한 임시 그룹 (템플릿에서 사용)

**특징**:
- **태그/난이도 기반**으로 문제를 그룹화
- 문제 ID만 배열로 저장 (실제 관계 없음)
- 템플릿에서 참조되어 시험 생성 시 문제 선택에 사용
- 동적으로 문제를 선택할 수 있음

**데이터 구조**:
```typescript
QuestionPool {
  id: string
  name: string
  tags: string[]           // 태그 (예: ["문법", "시제"])
  difficulty?: 'easy' | 'medium' | 'hard'
  questionIds: string[]   // 문제 ID 배열 (직접 참조)
}
```

**사용 시점**:
- ✅ 태그나 난이도로 문제를 그룹화할 때
- ✅ 템플릿에서 문제를 선택하기 위한 풀을 만들 때
- ✅ 유연한 조건으로 문제를 선택하고 싶을 때

**비유**: 시험 출제를 위한 문제 모음집 (임시 그룹)

**예시**:
```
문제 풀: "문법-중급"
  - 태그: ["문법", "시제"]
  - 난이도: "medium"
  - 문제 ID: ["q1", "q2", "q3", ...]
  
템플릿에서 이 풀을 사용하면:
  → "문법-중급" 태그와 "medium" 난이도 문제 중에서 자동 선택
```

---

## 🔄 문제 은행 vs 문제 풀: 핵심 차이

| 구분 | 문제 은행 (QuestionBank) | 문제 풀 (QuestionPool) |
|------|------------------------|----------------------|
| **분류 기준** | 카테고리 (category) | 태그/난이도 (tags/difficulty) |
| **데이터 관계** | 직접 관계 (Question.questionBankId) | 간접 참조 (questionIds 배열) |
| **목적** | 문제를 체계적으로 저장/관리 | 시험 생성 시 문제 선택 |
| **사용 시점** | 평소 문제 관리 | 시험 생성 시 |
| **유연성** | 낮음 (카테고리 고정) | 높음 (태그/난이도 조합) |
| **재사용성** | 높음 (저장소 개념) | 중간 (임시 그룹) |

### 실제 사용 예시

**문제 은행 사용**:
```
1. "JFT-Basic 문법" 문제 은행 생성
2. 관련 문법 문제들을 이 은행에 추가
3. 시험 생성 시 "JFT-Basic 문법" 은행에서 문제 선택
```

**문제 풀 사용**:
```
1. "문법-중급" 문제 풀 생성 (태그: ["문법"], 난이도: "medium")
2. 템플릿에서 이 풀 참조
3. 템플릿으로 시험 생성 시 자동으로 해당 조건 문제 선택
```

---

## 2️⃣ 시험 템플릿 vs 시험

### 📋 시험 템플릿 (Exam Template)
**목적**: 시험의 구조와 문제 선택 규칙을 정의하는 설계도

**특징**:
- 시험의 **구조**를 정의 (섹션 수, 문제 수, 타입 등)
- 문제 풀을 참조하여 문제 선택 규칙 정의
- 템플릿으로부터 실제 시험을 생성
- 동일한 구조의 시험을 빠르게 생성

**데이터 구조**:
```typescript
ExamTemplate {
  id: string
  name: string
  structure: {
    sections: [
      {
        type: "reading",
        questionCount: 20,
        questionPoolId?: string,  // 문제 풀 참조
        tags?: string[],          // 또는 태그 기반
        difficulty?: string        // 또는 난이도 기반
      }
    ]
  },
  questionPoolIds: string[]  // 사용할 문제 풀 목록
}
```

**사용 시점**:
- ✅ 동일한 구조의 시험을 여러 번 생성할 때
- ✅ 빠른 시험 생성이 필요할 때
- ✅ 표준화된 시험 구조를 유지할 때

**비유**: 건축 설계도 (집의 구조를 정의하지만 실제 집은 아님)

**예시**:
```
템플릿: "JFT-Basic 모의고사"
  - 섹션 1: 읽기 (20문제, "문법-중급" 문제 풀 사용)
  - 섹션 2: 듣기 (15문제, "어휘-초급" 문제 풀 사용)
  - 섹션 3: 작문 (5문제, "작문-중급" 문제 풀 사용)

이 템플릿으로 시험 생성 시:
  → 각 섹션에 지정된 문제 풀에서 문제를 자동 선택
  → 동일한 구조의 시험이 생성됨
```

---

### 📝 시험 (Exam)
**목적**: 사용자가 실제로 응시하는 최종 시험

**특징**:
- 실제 Section과 Question으로 구성
- 사용자가 응시하고 결과가 저장됨
- 템플릿에서 생성될 수 있음 (templateId로 연결)
- 독립적으로 생성될 수도 있음

**데이터 구조**:
```typescript
Exam {
  id: string
  title: string
  templateId?: string      // 템플릿에서 생성된 경우
  sections: Section[]      // 실제 섹션들
  // ...
}

Section {
  id: string
  examId: string
  questions: Question[]    // 실제 문제들
  // ...
}
```

**사용 시점**:
- ✅ 사용자에게 제공할 실제 시험을 만들 때
- ✅ 템플릿으로부터 자동 생성하거나 직접 생성

**비유**: 설계도로 만든 실제 집 (사람이 살 수 있는 집)

**예시**:
```
시험: "2024년 1월 JFT-Basic 모의고사 #1"
  - 템플릿: "JFT-Basic 모의고사"에서 생성
  - 섹션 1: 읽기 (실제 20개 문제 할당됨)
  - 섹션 2: 듣기 (실제 15개 문제 할당됨)
  - 섹션 3: 작문 (실제 5개 문제 할당됨)
  
사용자가 이 시험을 응시하면:
  → 실제 문제들이 표시됨
  → 답안이 저장됨
  → 결과가 생성됨
```

---

## 🔄 시험 템플릿 vs 시험: 핵심 차이

| 구분 | 시험 템플릿 (Template) | 시험 (Exam) |
|------|---------------------|-----------|
| **성격** | 설계도 (설계) | 실제 시험 (구현) |
| **구성** | 구조 정의 (JSON) | 실제 Section/Question |
| **사용자** | 관리자만 사용 | 사용자가 응시 |
| **생성** | 관리자가 직접 생성 | 템플릿에서 생성 또는 직접 생성 |
| **재사용** | 여러 시험 생성에 사용 | 한 번만 사용 (재사용 불가) |
| **결과** | 결과 없음 | 사용자 응시 결과 저장 |

### 실제 사용 예시

**템플릿 사용**:
```
1. "JFT-Basic 모의고사" 템플릿 생성
   - 구조 정의: 읽기 20문제, 듣기 15문제
   - 문제 풀 연결: "문법-중급", "어휘-초급"

2. 템플릿으로 시험 생성
   → "2024년 1월 모의고사 #1" 생성
   → "2024년 2월 모의고사 #2" 생성
   → "2024년 3월 모의고사 #3" 생성
   
   (모두 같은 구조지만 다른 문제들)
```

**직접 시험 생성**:
```
1. 시험 생성 페이지로 이동
2. 섹션 추가
3. 각 섹션에 문제 직접 할당
4. 시험 저장
```

---

## 📊 전체 워크플로우 정리

### 시나리오 1: 템플릿 기반 시험 생성 (권장)

```
1. 문제 관리
   → 문제들을 생성/관리
   
2. 문제 은행 (선택)
   → 카테고리별로 문제를 그룹화
   → 예: "JFT-Basic 문법" 은행에 문법 문제 추가
   
3. 문제 풀 생성
   → 태그/난이도로 문제 그룹화
   → 예: "문법-중급" 풀 생성 (태그: ["문법"], 난이도: "medium")
   
4. 템플릿 생성
   → 시험 구조 정의
   → 문제 풀 연결
   → 예: "JFT-Basic 모의고사" 템플릿
   
5. 템플릿으로 시험 생성
   → 템플릿 선택
   → 시험 자동 생성
   → 필요시 수정
```

### 시나리오 2: 직접 시험 생성

```
1. 문제 관리
   → 문제들을 생성/관리
   
2. 시험 생성
   → 섹션 추가
   → 각 섹션에 문제 직접 할당
   → 시험 저장
```

### 시나리오 3: 문제 은행 활용

```
1. 문제 은행 생성
   → "JFT-Basic 문법" 은행 생성
   
2. 문제 은행에 문제 추가
   → 관련 문법 문제들을 은행에 추가
   
3. 시험 생성
   → 섹션 추가
   → 문제 은행에서 문제 선택하여 할당
```

---

## ✅ 요약: 각 기능의 명확한 목적

### 문제 관리
- **목적**: 개별 문제를 직접 관리
- **사용**: 문제 검색, 수정, 삭제

### 문제 은행
- **목적**: 카테고리별로 문제를 체계적으로 저장
- **사용**: 평소 문제 관리, 시험 생성 시 카테고리별 문제 선택

### 문제 풀
- **목적**: 시험 생성 시 문제를 선택하기 위한 임시 그룹
- **사용**: 템플릿에서 문제 선택 규칙 정의

### 시험 템플릿
- **목적**: 시험 구조를 정의하는 설계도
- **사용**: 동일한 구조의 시험을 빠르게 생성

### 시험
- **목적**: 사용자가 실제로 응시하는 최종 시험
- **사용**: 사용자에게 제공, 응시 결과 저장

---

## 💡 권장 사용 패턴

### 초보자
1. **문제 관리**로 문제 생성/관리
2. **시험 관리**로 직접 시험 생성

### 중급자
1. **문제 은행**으로 카테고리별 관리
2. **시험 관리**로 문제 은행에서 선택하여 시험 생성

### 고급자
1. **문제 풀**로 태그/난이도별 그룹화
2. **템플릿**으로 시험 구조 정의
3. **템플릿**으로 빠른 시험 생성

---

## 🎯 결론

- **문제 관리**: 개별 문제 관리 도구
- **문제 은행**: 카테고리별 문제 저장소 (체계적 관리)
- **문제 풀**: 태그/난이도별 문제 그룹 (시험 생성용)
- **시험 템플릿**: 시험 구조 설계도 (재사용)
- **시험**: 실제 응시 시험 (최종 결과물)

각각의 목적이 다르며, 함께 사용하면 효율적인 시험 관리가 가능합니다.

